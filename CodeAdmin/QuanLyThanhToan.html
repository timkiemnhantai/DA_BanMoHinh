<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Qu·∫£n l√Ω thanh to√°n</title>

  <!-- Icon Font -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/css/Style_QuanLyThanhToan.css">

</head>
<body>
  <!-- ========== NAVBAR ========== -->
  <nav id="navbar">
    <div class="nav-left">
      <div class="logo-wrapper">
        <img src="/img/processed_no_white.png" alt="Logo" />
        <div class="logo-title">Gundam Shop</div>
      </div>
    </div>
    <div class="nav-right">
      <label for="">T√†i kho·∫£n |</label>
      <a href="#">
        <img src="/img/Screenshot_2025-06-19_220523-removebg-preview.png" alt="T√†i kho·∫£n"/>
      </a>
    </div>
  </nav>

  <!-- ========== TASKBAR ========== -->
  <div class="taskbar">
      <a href="/CodeAdmin/QuanLySanPham.html" title="Qu·∫£n l√Ω s·∫£n ph·∫©m"><img src="/img/box.png" alt="" /></a>
    <a href="/CodeAdmin/QuanLyTaiKhoan.html" title="Qu·∫£n l√Ω t√†i kho·∫£n"><img src="/img/account.png" alt="" /></a>
    <a href="/CodeAdmin/QuanLyDonHang.html" title="Qu·∫£n l√Ω ƒë∆°n h√†ng"><img src="/img/booking.png" alt="" /></a>
    <a href="/CodeAdmin/QuanLyDanhGia.html" title="Qu·∫£n l√Ω ƒë√°nh gi√°"><img src="/img/review.png" alt="" /></a>
    <a href="/CodeAdmin/QuanLyBanner.html" title="Qu·∫£n l√Ω banner"><img src="/img/advertisement.png" alt="" /></a>
    <a href="/CodeAdmin/QuanLyThanhToan.html" title="Qu·∫£n l√Ω thanh to√°n"><img src="/img/credit-card.png" alt="" /></a>
    <a href="/CodeAdmin/QuanLyXacNhanDonHang.html" title="Qu·∫£n l√Ω X√°c Nh·∫≠n ƒê∆°n H√†ng"><img src="/img/changes.png" alt="" /></a>
  </div>

  <!-- ========== MAIN CONTAINER ========== -->
  <div class="container-admin">


    <h2 class="mb-4">Qu·∫£n l√Ω thanh to√°n</h2>
    <table class="table table-bordered table-hover text-center align-middle">
      <thead class="table-dark">
        <tr>
          <th>M√£ TT</th>
          <th>M√£ ƒêH</th>
          <th>S·ªë Ti·ªÅn</th>
          <th>Ng√†y TT</th>
          <th>Ph∆∞∆°ng Th·ª©c</th>
          <th>Tr·∫°ng Th√°i</th>
          <th>Ghi Ch√∫</th>
          <th>H√†nh ƒë·ªông</th>
        </tr>
      </thead>
      <tbody>
        <!-- D√≤ng d·ªØ li·ªáu m·∫´u, ph·∫ßn n√†y s·∫Ω ƒë∆∞·ª£c load t·ª´ server/backend -->
        <tr>
          <td>TT001</td>
          <td>DH202307</td>
          <td>2,500,000‚Ç´</td>
          <td>2025-07-15</td>
          <td>COD</td>
          <td class="status-paid">Ch∆∞a thanh to√°n</td>
          <td class="note-cell" title="Thanh to√°n th√†nh c√¥ng b·∫±ng COD">Thanh to√°n th√†nh c√¥ng b·∫±ng COD</td>
          <td>
           <button class="btn btn-warning btn-sm" onclick="showEditForm(this)">S·ª≠a</button>
            <button class="btn btn-danger btn-sm">X√≥a</button>
          </td>
        </tr>
        <!-- L·∫∑p th√™m d√≤ng kh√°c -->
         <tr>
          <td>TT002</td>
          <td>DH202307</td>
          <td>2,500,000‚Ç´</td>
          <td>2025-07-15</td>
          <td>COD</td>
          <td class="status-paid">ƒê√£ thanh to√°n</td>
          <td class="note-cell" title="Thanh to√°n th√†nh c√¥ng b·∫±ng COD">Thanh to√°n th√†nh c√¥ng b·∫±ng COD</td>
          <td>
            <button class="btn btn-warning btn-sm" onclick="showEditForm(this)">S·ª≠a</button>
            <button class="btn btn-danger btn-sm">X√≥a</button>
          </td>
        </tr>
        <!-- L·∫∑p th√™m d√≤ng kh√°c -->
         <tr>
          <td>TT003</td>
          <td>DH202307</td>
          <td>2,500,000‚Ç´</td>
          <td>2025-07-15</td>
          <td>COD</td>
          <td class="status-paid">Ch∆∞a thanh to√°n</td>
          <td class="note-cell" title="Thanh to√°n th√†nh c√¥ng b·∫±ng COD">Thanh to√°n th√†nh c√¥ng b·∫±ng COD</td>
          <td>
            <button class="btn btn-warning btn-sm" onclick="showEditForm(this)">S·ª≠a</button>
            <button class="btn btn-danger btn-sm">X√≥a</button>
          </td>
        </tr>
        <!-- L·∫∑p th√™m d√≤ng kh√°c -->
         <tr>
          <td>TT004</td>
          <td>DH202307</td>
          <td>2,500,000‚Ç´</td>
          <td>2025-07-15</td>
          <td>COD</td>
          <td class="status-paid">ƒê√£ thanh to√°n</td>
          <td class="note-cell" title="Thanh to√°n th√†nh c√¥ng b·∫±ng COD">Thanh to√°n th√†nh c√¥ng b·∫±ng COD</td>
          <td>
            <button class="btn btn-warning btn-sm" onclick="showEditForm(this)">S·ª≠a</button>
            <button class="btn btn-danger btn-sm">X√≥a</button>
          </td>
        </tr>
        <!-- L·∫∑p th√™m d√≤ng kh√°c -->
         <tr>
          <td>TT005</td>
          <td>DH202307</td>
          <td>2,500,000‚Ç´</td>
          <td>2025-07-15</td>
          <td>COD</td>
          <td class="status-paid">Ch∆∞a thanh to√°n</td>
          <td class="note-cell" title="Thanh to√°n th√†nh c√¥ng b·∫±ng COD">Thanh to√°n th√†nh c√¥ng b·∫±ng COD</td>
          <td>
            <button class="btn btn-warning btn-sm" onclick="showEditForm(this)">S·ª≠a</button>
            <button class="btn btn-danger btn-sm">X√≥a</button>
          </td>
        </tr>
        <!-- L·∫∑p th√™m d√≤ng kh√°c -->
      </tbody>
    </table>






  

<!-- FORM CH·ªàNH S·ª¨A TH√îNG TIN THANH TO√ÅN -->
<div id="editForm" class="mt-5 p-4 border rounded bg-white shadow" style="display: none;">
  <h4 class="mb-3">Ch·ªânh s·ª≠a thanh to√°n</h4>
  <form id="paymentEditForm">
    <div class="row g-3">
      <div class="col-md-4">
        <label for="maTT" class="form-label">M√£ Thanh To√°n</label>
        <input type="text" class="form-control" id="maTT" readonly>
      </div>
      <div class="col-md-4">
        <label for="maDH" class="form-label">M√£ ƒê∆°n H√†ng</label>
        <input type="text" class="form-control" id="maDH">
      </div>
      <div class="col-md-4">
        <label for="soTien" class="form-label">S·ªë Ti·ªÅn</label>
        <input type="number" class="form-control" id="soTien">
      </div>
      <div class="col-md-4">
        <label for="ngayTT" class="form-label">Ng√†y Thanh To√°n</label>
        <input type="date" class="form-control" id="ngayTT">
      </div>
      <div class="col-md-4">
        <label for="phuongThuc" class="form-label">Ph∆∞∆°ng Th·ª©c TT</label>
        <select class="form-select" id="phuongThuc">
          <option value="COD">COD</option>
          <option value="Chuy·ªÉn kho·∫£n">Chuy·ªÉn kho·∫£n</option>
        </select>
      </div>
      <div class="col-md-4">
        <label for="trangThai" class="form-label">Tr·∫°ng Th√°i</label>
        <select class="form-select" id="trangThai">
          <option value="ƒê√£ thanh to√°n">ƒê√£ thanh to√°n</option>
          <option value="ƒêang x·ª≠ l√Ω">ƒêang x·ª≠ l√Ω</option>
          <option value="Th·∫•t b·∫°i">Th·∫•t b·∫°i</option>
        </select>
      </div>
      <div class="col-12">
        <label for="ghiChu" class="form-label">Ghi Ch√∫</label>
        <textarea class="form-control" id="ghiChu" rows="2"></textarea>
      </div>
    </div>
    <div class="mt-4 d-flex justify-content-end">
      <button type="button" class="btn btn-secondary me-2" onclick="hideEditForm()">H·ªßy</button>
      <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
    </div>
  </form>
</div>
  
</div>

  <!-- SCRIPT x·ª≠ l√Ω s·ª± ki·ªán S·ª≠a -->
<script>
  function showEditForm(button) {
  const row = button.closest("tr");
  document.getElementById("editForm").style.display = "block";

  document.getElementById("maTT").value = row.children[0].innerText;
  document.getElementById("maDH").value = row.children[1].innerText;

  // üëâ S·ª≠a d√≤ng n√†y:
  const soTienRaw = row.children[2].innerText.replace(/[^0-9]/g, '');
  document.getElementById("soTien").value = parseInt(soTienRaw);

  document.getElementById("ngayTT").value = row.children[3].innerText;

  document.getElementById("phuongThuc").value = row.children[4].innerText.trim();
  document.getElementById("trangThai").value = row.children[5].innerText.trim();
  document.getElementById("ghiChu").value = row.children[6].innerText;
}

  function hideEditForm() {
    document.getElementById("editForm").style.display = "none";
  }

  // Khi submit form
  document.getElementById("paymentEditForm").addEventListener("submit", function (e) {
    e.preventDefault();
    alert("Th√¥ng tin thanh to√°n ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t (gi·∫£ l·∫≠p)");
    hideEditForm();
    // TODO: G·ª≠i request c·∫≠p nh·∫≠t v√†o DB
  });
</script>
</body>
</html>
